{"version":3,"sources":["../../src/pages/receipts/receipts.module.ts","../../src/pages/receipts/receipts.ts"],"names":[],"mappings":"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","file":"3.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ReceiptsPage } from './receipts';\n\n@NgModule({\n  declarations: [\n    ReceiptsPage\n  ],\n  imports: [\n    IonicPageModule.forChild(ReceiptsPage)\n  ]\n})\nexport class ReceiptsPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/receipts/receipts.module.ts","import {Component, ViewChild, ViewChildren, OnChanges} from '@angular/core';\nimport {Content} from 'ionic-angular';\nimport {IonicPage, ModalController, NavController, NavParams, LoadingController} from 'ionic-angular';\nimport {ResourcesProvider} from '../../providers/resources/resources';\nimport {ReceiptDetailPage} from '../receipt-detail/receipt-detail';\nimport {ProfilePage} from '../profile/profile';\nimport {SuperTabs, SuperTabsController} from \"ionic2-super-tabs\";\n\n@IonicPage()\n@Component({selector: 'page-receipts', templateUrl: 'receipts.html'})\nexport class ReceiptsPage {\n\n  @ViewChild(Content)content : Content;\n  @ViewChildren('accordion')accordion;\n\n  loading : any;\n\n  dateString : any;\n  timeString : any;\n\n  monthBreaks = document.getElementsByClassName(\"month\");\n  yearBreaks = document.getElementsByClassName(\"year\");\n\n  searchOpen = false;\n\n  loadedReceipts : any = [];\n\n  constructor(public modalCtrl : ModalController, public navCtrl : NavController, public navParams : NavParams, public resProvider : ResourcesProvider, private superTabsCtrl : SuperTabsController, private superTabs : SuperTabs) {\n\n    this\n      .resProvider\n      .updateReceipts();\n\n  }\n\n  ionViewDidLoad() {\n    this\n      .resProvider\n      .loadReceiptStorage()\n    this.loadedReceipts = this.resProvider.user.receipts;\n  }\n  getItems(event : any) {\n\n    if (event) {\n      let value = event.target.value;\n      if (value && value.trim() != '') {\n        this.resProvider.user.receipts = this\n          .resProvider\n          .user\n          .receipts\n          .filter((item) => {\n            return (item.year.toString().toLowerCase().indexOf(value.toLowerCase()) > -1) || (item.month.toLowerCase().indexOf(value.toLowerCase()) > -1) || (item.day.toLowerCase().indexOf(value.toLowerCase()) > -1) || (item.datenr.toString().toLowerCase().indexOf(value.toLowerCase()) > -1) || (item.receipt.sum.total.toString().toLowerCase().indexOf(value.toLowerCase()) > -1) || (item.receipt.merchant.name.toLowerCase().indexOf(value.toLowerCase()) > -1) || (item.receipt.merchant.city.toLowerCase().indexOf(value.toLowerCase()) > -1);\n          })\n        console.log(this.resProvider.user.receipts);\n      } else {\n        this.resProvider.user.receipts = this.loadedReceipts;\n      }\n    } else {\n      this.resProvider.user.receipts = this.loadedReceipts;\n    }\n  }\n\n  scrollHandler(event) {\n    var passedMonthElements = [];\n    var passedYearElements = [];\n    for (var i = 0; i < this.monthBreaks.length; i++) {\n      if ((this.monthBreaks[i].getBoundingClientRect().top < 95)) {\n        passedMonthElements.push(this.monthBreaks[i].getBoundingClientRect().top)\n      }\n    }\n    for (var j = 0; j < this.monthBreaks.length; j++) {\n      if ((this.monthBreaks[j].getBoundingClientRect().top == Math.max(...passedMonthElements))) {\n        document\n          .getElementById(\"fixedbtnmonth\")\n          .innerHTML = this.monthBreaks[j].textContent;\n      }\n    }\n    for (var k = 0; k < this.yearBreaks.length; k++) {\n      if ((this.yearBreaks[k].getBoundingClientRect().top < 65)) {\n        passedYearElements.push(this.yearBreaks[k].getBoundingClientRect().top)\n      }\n    }\n    for (var l = 0; l < this.yearBreaks.length; l++) {\n      if ((this.yearBreaks[l].getBoundingClientRect().top == Math.max(...passedYearElements))) {\n        document\n          .getElementById(\"fixedbtnyear\")\n          .innerHTML = this.yearBreaks[l].id;\n      }\n    }\n  }\n  search() {\n    if (this.searchOpen) {\n      document\n        .getElementById(\"searchbar\")\n        .getElementsByTagName(\"input\")[0]\n        .value = \"\";\n      document\n        .getElementById(\"searchbar\")\n        .style\n        .top = \"-56px\";\n      document\n        .getElementById(\"searchtxt\")\n        .textContent = \"Search\";\n      this.searchOpen = false;\n      this.getItems(\"\");\n    } else {\n      document\n        .getElementById(\"searchbar\")\n        .style\n        .top = \"0px\";\n      document\n        .getElementById(\"searchtxt\")\n        .textContent = \"Close\";\n      document\n        .getElementById(\"searchbar\")\n        .focus();\n      clearInterval(this.resProvider.refreshInterval);\n      this.searchOpen = true;\n    }\n  }\n\n  scrollToMonth(scrollToMonth) {\n    let yOffset = document\n      .getElementById(scrollToMonth)\n      .offsetTop;\n    this\n      .content\n      .scrollTo(0, yOffset - 78, 1000)\n  }\n\n  toggleList() {\n    this\n      .superTabsCtrl\n      .enableTabsSwipe(true);\n    document\n      .getElementById(\"monthList\")\n      .style\n      .top = \"calc(-66px)\";\n    document\n      .getElementById(\"monthList\")\n      .style\n      .opacity = \"0\";\n    document\n      .getElementById(\"fade\")\n      .style\n      .opacity = \"0\";\n    document\n      .getElementById(\"fade\")\n      .style\n      .pointerEvents = \"none\";\n    document\n      .getElementById(\"arrow\")\n      .style\n      .transform = \"scaleY(1)\";\n    document\n      .getElementById(\"fixedbtn\")\n      .style\n      .backgroundColor = (\"#0f2841\");\n    this.resProvider.listIsOpen = false;\n  }\n  /*\n  goToReceipt(clickedReceipt) {\n    this.resProvider.receiptView = true;\n    this\n      .navCtrl\n      .push(ReceiptDetailPage, {receipt: clickedReceipt});\n  }\n*/\n  goToCards() {\n    this\n      .superTabs\n      .slideTo(2);\n  }\n\n  update(event) {\n    event.complete();\n    console.log(\"update\");\n  }\n  goToReceipt(clickedReceipt) {\n    let profileModal = this\n      .modalCtrl\n      .create(ReceiptDetailPage, {receipt: clickedReceipt});\n    profileModal.present();\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/receipts/receipts.ts"],"sourceRoot":""}